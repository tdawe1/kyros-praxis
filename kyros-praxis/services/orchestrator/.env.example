# Environment variables for Kyros Praxis Orchestrator Service
# Copy this file to .env and fill in the values
# IMPORTANT: Generate secure secrets (minimum 32 characters) using: openssl rand -hex 32

# =============================================================================
# Security Configuration
# =============================================================================
# JWT Configuration
JWT_SECRET=your_very_secure_jwt_secret_minimum_32_chars_generated_with_openssl_rand_hex_32
JWT_ALGORITHM=HS512
JWT_ISSUER=kyros-praxis
JWT_AUDIENCE=kyros-app
ACCESS_TOKEN_EXPIRE_MINUTES=120

# Application Secrets
SECRET_KEY=your_very_secure_app_secret_minimum_32_chars_generated_with_openssl_rand_hex_32

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL Database (Primary)
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_database_password_minimum_32_chars
POSTGRES_DB=kyros

# Alternative: SQLite (for development)
# DATABASE_URL=sqlite:///./orchestrator.db

# Database Pool Settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_minimum_32_chars
REDIS_URL=redis://:your_secure_redis_password@localhost:6379/0

# Redis Pool Settings
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=5

# =============================================================================
# Qdrant Vector Database
# =============================================================================
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your_qdrant_api_key_if_required

# =============================================================================
# AI Service Configuration
# =============================================================================
# OpenAI
OPENAI_API_KEY=your_openai_api_key

# Google AI
GEMINI_API_KEY=your_gemini_api_key

# Anthropic Claude
ANTHROPIC_API_KEY=your_anthropic_api_key

# xAI
XAI_API_KEY=your_xai_api_key

# OpenRouter
OPENROUTER_API_KEY=your_openrouter_api_key

# =============================================================================
# Frontend Configuration
# =============================================================================
FRONTEND_HOST=http://localhost:3001
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# CORS Configuration
# =============================================================================
BACKEND_CORS_ORIGINS=["http://localhost:3001", "http://localhost:3000"]

# =============================================================================
# Environment Settings
# =============================================================================
ENVIRONMENT=local
LOG_LEVEL=INFO
DEBUG=true

# =============================================================================
# Email Configuration (Optional)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_TLS=true
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAILS_FROM_EMAIL=noreply@kyros-praxis.com
EMAILS_FROM_NAME=Kyros Praxis

# =============================================================================
# Notification Services (Optional)
# =============================================================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
WEBHOOK_ALERTS_URL=https://your-monitoring-system.com/api/alerts
WEBHOOK_API_TOKEN=your_webhook_api_token
PAGERDUTY_INTEGRATION_KEY=your_pagerduty_integration_key

# =============================================================================
# Monitoring and Observability
# =============================================================================
# Sentry (Optional)
SENTRY_DSN=your_sentry_dsn

# OpenTelemetry (Optional)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=kyros-praxis-orchestrator

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_LOCAL_PASSWORD_AUTH=true
ENABLE_SEED=false
ENABLE_ADMINER=false
ENABLE_METRICS=true

# =============================================================================
# Security Settings
# =============================================================================
# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=900
RATE_LIMIT_BURST=0

# Production Rate Limiting
PRODUCTION_RATE_LIMIT_REQUESTS=1000
PRODUCTION_RATE_LIMIT_WINDOW=3600
PRODUCTION_RATE_LIMIT_BURST=50

# Session Settings
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_SAMESITE=lax

# CORS Security
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# =============================================================================
# Development Settings
# =============================================================================
# Auto-reload
RELOAD=true

# Database auto-creation
AUTO_CREATE_DATABASE=true

# Seed data
SEED_DATABASE=false

# =============================================================================
# Testing Settings
# =============================================================================
# Test Database
TEST_DATABASE_URL=sqlite:///./test.db

# Test User
TEST_USER_USERNAME=testuser
TEST_USER_PASSWORD=testpass123

# =============================================================================
# MCP Server Configuration
# =============================================================================
# MCP Servers
MCP_FILESYSTEM_ROOT=.
MCP_GIT_REPOSITORY=.

# =============================================================================
# Performance Settings
# =============================================================================
# Async Settings
ASYNC_DATABASE_POOL=true
ASYNC_REDIS_POOL=true

# Timeout Settings
REQUEST_TIMEOUT=30
DATABASE_TIMEOUT=10
REDIS_TIMEOUT=5

# =============================================================================
# Logging Configuration
# =============================================================================
# Log File
LOG_FILE=orchestrator.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# Structured Logging
LOG_FORMAT=json
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_LEVEL=true
LOG_INCLUDE_REQUEST_ID=true

# =============================================================================
# Health Checks
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# =============================================================================
# Deployment Settings
# =============================================================================
# Container
CONTAINER_PORT=8000
HOST_PORT=8000

# Process Management
WORKER_COUNT=1
WORKER_CLASS=uvicorn.workers.UvicornWorker

# =============================================================================
# Notes
# =============================================================================
# 1. Always generate new secrets for production
# 2. Never commit .env files to version control
# 3. Use environment-specific .env files for different deployments
# 4. Rotate secrets regularly in production
# 5. Use secret management services in production (AWS Secrets Manager, etc.)